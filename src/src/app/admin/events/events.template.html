<div class="content-container">
    <div class="events-list">
        <vw-loader [loading]="isLoading"></vw-loader>
        <vw-error-message [message]="errorMessage"></vw-error-message>
        <div *ngIf="!isLoading">
            <div class="header-buttons">
                <button mat-raised-button (click)="onEdit(null)">
                    <mat-icon fontSet="mdi" fontIcon="mdi-plus"></mat-icon>
                    <span>New Event</span>
                </button>
            </div>
            <mat-table #table [dataSource]="dataSource" class="striped">
                <ng-container matColumnDef="name">
                    <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
                    <mat-cell *matCellDef="let event">{{event.name}}</mat-cell>
                </ng-container>

                <ng-container matColumnDef="start">
                    <mat-header-cell *matHeaderCellDef>Start</mat-header-cell>
                    <mat-cell *matCellDef="let event">{{event.startDate | date: 'short'}}</mat-cell>
                </ng-container>

                <ng-container matColumnDef="end">
                    <mat-header-cell *matHeaderCellDef>End</mat-header-cell>
                    <mat-cell *matCellDef="let event">{{event.endDate | date: 'short'}}</mat-cell>
                </ng-container>

                <ng-container matColumnDef="server">
                    <mat-header-cell *matHeaderCellDef>Server</mat-header-cell>
                    <mat-cell *matCellDef="let event">{{event.serverId}}</mat-cell>
                </ng-container>

                <ng-container matColumnDef="map">
                    <mat-header-cell *matHeaderCellDef>Map</mat-header-cell>
                    <mat-cell *matCellDef="let event">{{event.mapId}}</mat-cell>
                </ng-container>

                <ng-container matColumnDef="options">
                    <mat-header-cell *matHeaderCellDef></mat-header-cell>
                    <mat-cell *matCellDef="let event">
                        <button mat-raised-button (click)="onEdit(event)">Edit</button>
                        <a mat-raised-button routerLink="/ps2/events/{{event.id}}">Stats</a>
                    </mat-cell>
                </ng-container>

                <mat-header-row *matHeaderRowDef="['name','start','end','server','map','options']"></mat-header-row>
                <mat-row *matRowDef="let row; columns: ['name','start','end','server','map','options'];"></mat-row>
            </mat-table>
        </div>
    </div>
</div>